# =============================================================================
# AI-Powered Hybrid Culinary Search Engine - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control (already in .gitignore)

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database Connection
# Format: postgresql://[user[:password]@][host][:port][/dbname]
POSTGRES_DSN=postgresql://postgres:password@localhost:5432/restaurantdb

# Optional: Individual PostgreSQL components (if not using DSN)
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=your-secure-password
# POSTGRES_DB=restaurantdb
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432

# =============================================================================
# VECTOR DATABASE (QDRANT) CONFIGURATION
# =============================================================================

# Qdrant Host and Port
QDRANT_HOST=localhost
QDRANT_PORT=6333

# Qdrant API Key (optional for local, required for cloud)
# Leave empty for local development without authentication
QDRANT_API_KEY=

# Qdrant Collection Name (default: restaurant_menus)
# QDRANT_COLLECTION_NAME=restaurant_menus

# =============================================================================
# LLM API KEYS
# =============================================================================

# DeepSeek API Key (primary LLM for query parsing and ranking)
# Get your API key from: https://platform.deepseek.com
DEEPSEEK_API_KEY=

# OpenAI API Key (fallback LLM)
# Get your API key from: https://platform.openai.com
OPENAI_API_KEY=

# Optional: Custom API Base URLs
# DEEPSEEK_BASE_URL=https://api.deepseek.com
# OPENAI_BASE_URL=https://api.openai.com/v1

# =============================================================================
# SEARCH CONFIGURATION
# =============================================================================

# Whoosh Index Path (local keyword search index)
WHOOSH_INDEX_PATH=./whoosh_index

# Default number of results to return
# DEFAULT_TOP_K=10

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Logging Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Application Host and Port
# HOST=0.0.0.0
# PORT=8000

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Enable CORS (true/false)
ENABLE_CORS=true

# Allowed Origins (comma-separated list)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# MONITORING & METRICS
# =============================================================================

# Enable Prometheus Metrics (true/false)
PROMETHEUS_ENABLED=true

# Prometheus Metrics Port
PROMETHEUS_PORT=8001

# =============================================================================
# PERFORMANCE & SCALING
# =============================================================================

# Maximum number of worker processes
# MAX_WORKERS=4

# Worker timeout in seconds
# WORKER_TIMEOUT=120

# Keep-alive timeout in seconds
# KEEPALIVE_TIMEOUT=65

# Graceful shutdown timeout in seconds
# GRACEFUL_SHUTDOWN_TIMEOUT=30

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Use multi-agent orchestrator (true/false)
# If false, falls back to basic hybrid search
USE_ORCHESTRATOR=true

# Enable quality validation agent (true/false)
# ENABLE_QUALITY_AGENT=true

# Enable verification agent (true/false)
# ENABLE_VERIFICATION_AGENT=true

# =============================================================================
# SECURITY (PRODUCTION ONLY)
# =============================================================================

# API Key for authentication (optional)
# API_KEY=

# Trusted hosts (comma-separated list)
# TRUSTED_HOSTS=localhost,127.0.0.1

# Enable HTTPS redirect (true/false)
# ENABLE_HTTPS_REDIRECT=false

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable auto-reload on code changes (development only)
# RELOAD=true

# Enable debug mode (development only)
# DEBUG=false

# =============================================================================
# NOTES
# =============================================================================
#
# 1. Required variables for basic functionality:
#    - POSTGRES_DSN
#    - QDRANT_HOST and QDRANT_PORT
#    - At least one of DEEPSEEK_API_KEY or OPENAI_API_KEY
#
# 2. For production deployments:
#    - Set ENVIRONMENT=production
#    - Use strong, unique passwords
#    - Enable QDRANT_API_KEY
#    - Configure proper CORS origins
#    - Set appropriate worker counts and timeouts
#    - Consider using secrets management (AWS Secrets Manager, Vault)
#
# 3. Docker Compose users:
#    - Set POSTGRES_DSN=postgresql://postgres:password@postgres:5432/restaurantdb
#    - Set QDRANT_HOST=qdrant
#
# 4. Testing without LLM APIs:
#    - Leave API keys empty to use fallback search
#    - Set USE_ORCHESTRATOR=false
#
